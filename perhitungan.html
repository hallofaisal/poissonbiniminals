<html>
 <head>
  <title>
   Dashboard
  </title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
        font-family: 'Roboto', sans-serif;
        margin: 0;
        display: flex;
        background-color: #f9f9f9;
    }
    .sidebar {
        background-color: #000;
        color: #fff;
        width: 250px;
        padding: 20px;
        height: 100vh;
    }
    .sidebar h2 {
        font-size: 18px;
        margin-bottom: 40px;
    }
    .sidebar a {
        color: #fff;
        text-decoration: none;
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        font-size: 16px;
    }
    .sidebar a i {
        margin-right: 10px;
    }
    .main-content {
        padding: 20px;
        flex-grow: 1;
    }
    .profile {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }
    .profile img {
        border-radius: 50%;
        width: 50px;
        height: 50px;
        margin-right: 10px;
    }
    .profile div {
        display: flex;
        flex-direction: column;
    }
    .profile div span {
        font-size: 14px;
    }
    .profile div span.name {
        font-weight: bold;
    }
    .dashboard-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
    }
    .box {
        border: 1px solid #000;
        padding: 20px;
        margin-bottom: 20px;
        background-color: #fff;
        width: 300px;
        position: relative;
    }
    .box h3 {
        font-size: 18px;
        margin-bottom: 20px;
    }
    .box label {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }
    .box label input {
        margin-left: 10px;
        padding: 5px;
        width: 100px;
        box-sizing: border-box;
    }
    .box button {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 5px 10px;
        font-size: 14px;
        cursor: pointer;
    }
    .table-container {
        display: flex;
        justify-content: space-between;
        gap: 20px;
    }
    .table {
        border: 1px solid #000;
        border-collapse: collapse;
        width: 100%;
        background-color: #fff;
    }
    .table.small-table {
        width: 200px;
    }
    .table.medium-table {
        width: 300px;
    }
    .table th, .table td {
        border: 1px solid #000;
        padding: 10px;
        text-align: center;
    }
    .table th {
        background-color: #f0f0f0;
    }
    .result-box {
        border: 1px solid #000;
        padding: 20px;
        background-color: #fff;
        margin-top: 20px;
        position: relative;
    }
    .center-table {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }
    .table-container-below {
        margin-top: 20px;
    }
    .result-box button {
        position: absolute;
        bottom: 20px;
        right: 20px;
        padding: 5px 10px;
        font-size: 14px;
        cursor: pointer;
    }
    .steps {
        display: none;
        margin-top: 20px;
    }
  </style>
 </head>
 <body>
  <div class="sidebar">
   <h2>
    Pemodelan Dan Simulasi
   </h2>
   <a href="#">
    </i>
    <i class="fas fa-chart-line">
    </i>
    Perhitungan
   </a>
  </div>
  <div class="main-content">
   <div class="profile">
    <div>
     <span class="name">
      Faisal Rizky
     </span>
     <span>
      30120037
     </span>
    </div>
   </div>
   <div class="dashboard-title">
    Dashboard
   </div>
   <div class="table-container">
    <div class="box">
     <h3>
      Perhitungan
     </h3>
     <label>
      Jumlah Percobaan (N)
      <input id="percobaan" type="number"/>
     </label>
     <label>
      Jumlah Keberhasilan (X)
      <input id="keberhasilan" type="number"/>
     </label>
     <button onclick="hitungSemua()">
      Hitung Semua
     </button>
    </div>
    <div class="center-table">
     <table class="table medium-table">
      <thead>
       <tr>
        <th>
         sukses
        </th>
        <th>
         gagal
        </th>
       </tr>
      </thead>
      <tbody id="hasil-sukses-gagal">
       <tr>
        <td>
        </td>
        <td>
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <table class="table small-table">
     <thead>
      <tr>
       <th>
        kemungkinan
       </th>
       <th>
        presentase
       </th>
      </tr>
     </thead>
     <tbody id="hasil-kemungkinan">
      <tr>
       <td>
        sukses
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        gagal
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        gambaran
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="table-container-below">
    <table class="table">
     <thead>
      <tr>
       <th>
        keberhasilan
       </th>
       <th>
        0.5
       </th>
       <th>
        1.5
       </th>
       <th>
        2.5
       </th>
       <th>
        3.5
       </th>
       <th>
        4.5
       </th>
      </tr>
     </thead>
     <tbody id="hasil-keberhasilan">
      <tr>
       <td>
        over
       </td>
       <td>
       </td>
       <td>
       </td>
       <td>
       </td>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        under
       </td>
       <td>
       </td>
       <td>
       </td>
       <td>
       </td>
       <td>
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="result-box">
    <h3>
     Hasil
    </h3>
    <div id="hasil-poisson">
    </div>
    <button onclick="tampilkanLangkah()">
     Tampilkan
    </button>
    <div class="steps" id="steps">
     <h4>
      Langkah-langkah Perhitungan:
     </h4>
     <div id="langkah-kemungkinan">
      <h5>
       Kemungkinan dan Presentase:
      </h5>
      <p>
      </p>
     </div>
     <div id="langkah-sukses-gagal">
      <h5>
       Sukses dan Gagal:
      </h5>
      <p>
      </p>
     </div>
     <div id="langkah-keberhasilan">
      <h5>
       Keberhasilan:
      </h5>
      <p>
      </p>
     </div>
    </div>
   </div>
  </div>
  <script>
   function factorial(n) {
        return n ? n * factorial(n - 1) : 1;
    }

    function poissonDistribution(lambda, x) {
        return (Math.pow(lambda, x) * Math.exp(-lambda)) / factorial(x);
    }

    function hitungSemua() {
        const N = parseFloat(document.getElementById('percobaan').value);
        const x = parseFloat(document.getElementById('keberhasilan').value);
        const lambda = N;

        // Calculate Poisson distribution
        const poissonResult = poissonDistribution(lambda, x);

        // Update table for kemungkinan and presentase
        const hasilKemungkinan = [
            { kemungkinan: 'sukses', presentase: (poissonResult * 100).toFixed(2) + '%' },
            { kemungkinan: 'gagal', presentase: ((1 - poissonResult) * 100).toFixed(2) + '%' },
            { kemungkinan: 'gambaran', presentase: 'N/A' }
        ];

        const hasilSuksesGagal = [
            { sukses: (poissonResult * 100).toFixed(2) + '%', gagal: ((1 - poissonResult) * 100).toFixed(2) + '%' }
        ];

        const hasilKeberhasilan = [
            { keberhasilan: 'over', '0.5': poissonResult.toFixed(5), '1.5': poissonResult.toFixed(5), '2.5': poissonResult.toFixed(5), '3.5': poissonResult.toFixed(5), '4.5': poissonResult.toFixed(5) },
            { keberhasilan: 'under', '0.5': poissonResult.toFixed(5), '1.5': poissonResult.toFixed(5), '2.5': poissonResult.toFixed(5), '3.5': poissonResult.toFixed(5), '4.5': poissonResult.toFixed(5) }
        ];

        // Populate tables with calculated values
        document.getElementById('hasil-sukses-gagal').innerHTML = `
            <tr>
                <td>${hasilSuksesGagal[0].sukses}</td>
                <td>${hasilSuksesGagal[0].gagal}</td>
            </tr>
        `;
        document.getElementById('hasil-kemungkinan').innerHTML = hasilKemungkinan.map(item => `
            <tr>
                <td>${item.kemungkinan}</td>
                <td>${item.presentase}</td>
            </tr>
        `).join('');
        document.getElementById('hasil-keberhasilan').innerHTML = hasilKeberhasilan.map(item => `
            <tr>
                <td>${item.keberhasilan}</td>
                <td>${item['0.5']}</td>
                <td>${item['1.5']}</td>
                <td>${item['2.5']}</td>
                <td>${item['3.5']}</td>
                <td>${item['4.5']}</td>
            </tr>
        `).join('');
        
        document.getElementById('hasil-poisson').innerHTML = `
            <p>Poisson Distribution Result: ${poissonResult.toFixed(5)}</p>
        `;
    }

    function tampilkanLangkah() {
        document.getElementById('steps').style.display = 'block';
    }
  </script>
 </body>
</html>
